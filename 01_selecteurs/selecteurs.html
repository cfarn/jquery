<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Les sélecteurs Jquery</title>
    <style>
        .maclasse {
            color: blue;
            text-decoration: underline;
            background: skyblue;
        }
    </style>
</head>
<body>
    <h1>Titre H1</h1>
    <p>Paragraphe 1</p>
    <p>Paragraphe 2</p>
    <p>Paragraphe 3</p>
    <p>Paragraphe 4</p>

    <div>Div1</div>
    <div class="select">Div2</div>
    <nav class="select">Nav2</nav>

    <span>Span 1</span>
    <span>Span 2</span>
    <span class="fakeClass">Span 3</span>

    <figure>
        <img src="b.jpg" alt="Petit chat blanc" style="width: 200px;">
        <figcaption></figcaption>
    </figure>

    <script src="../source/jquery-3.4.1.js"></script>
    <script>
        // console.log(document.getElementsByTagName('h1'));
        // console.log(document.querySelector('h1').innerHTML);
        // f°query $ est l'équiv d'un document.querySelectorALL()
        // la méthode jquery eq() est l'équiv de [] en js et permet de sélectionner un indice d'une collec d'objets
        // la méthode html() remplace innerhtml pour récupérer ou redéfinir un contenu de balise
        console.log($('h1').eq(0).html());
        // pour le redéfinir :
        $('h1').eq(0).html('<a href="#">Mon titre via Jquery</a>');
        // pour redéfinir ou récupérer le contenu texte :
        // $('h1').eq(0).text('<a href="#">Mon titre via Jquery</a>');
        console.log($('h1').eq(0).text());
        console.log($('p').eq(2).text());
        $('p').eq(0).html('Hello');

        // plutôt que remplacer le texte d'une balise, nous pouvons choisir de rajouter du texte. Aussi nous allons devoir choisir de le rajouter avt ou ap
        $('p').eq(1).append(' <span style="color:purple;">Après</span>');
        $('p').eq(2).prepend('Avant ');

        // methode css() applique les changements en remplacement de .style
        // appliquer un seul changement : 
        $('p').css("color","red");
        // appliquer plusieurs changements :
        $('p').css({
            'color':'red',
            'font-weight':'bold',
            'margin':'10px'
        });

        // sélectionner les div, leur donner un contour rouge
        $('div').css("border","1px solid red");

        // sélectionner les éléments qui ont la classe .select pour leur appliquer une couleur de fond 'bleu' et un texte 'blanc'
        $('.select').css({'background':'blue','color':'white'});

        // sélectionner les 3 éléments pour faire précéder leur contenu d'un tiret '-'
        $('div, nav').prepend('- ');
        // $('div, .select').prepend('- ');

        // Manipulations de classes (addClass()), (removeClass()), (toggleClass()), (hasClass())
            // addClass() permet de rajouter une classe à une sélection
            console.log($('span').eq(2).text());
            $('span').eq(2).addClass('maclasse');

            // removeClass() retire une classe existante à un élément
            $('span').eq(3).removeClass('fakeClass');

            // retirer la classe .maclasse au span 2
            $('span').eq(2).removeClass('maclasse');

        // Manipulations d'attributs (attr(), removeAttr())
            // attr() qui établit un nouvel attribut
            $('div').eq(1).attr("title","Hello");
            $('div').eq(1).removeAttr("title");

        // retirer le class="" maintenant vide du span2
        // $('span').eq(2).removeAttr("class");
        $('span:eq(2), span:eq(3)').removeAttr("class");

        // parents enfants
            // en sélectionnant le parent(figure), atteindre un enfant(img) pour lui appliquer un attribut title
            $('figure').find('img').attr("title","petit chat");

            // en sélectionnant un enfant, atteindre le parent. .parent() va chercher le parent naturel, parent().parent() va chercher le parent du parent (ici le body)
            $('img').parent().parent().css("border", "2px solid green");

        // exercice : récupérer l'attr alt de img dans une var
        // demander en jquery à ce que var s'affiche dans le figcaption

            // console.log() présent pour vérifier si je parviens à récupérer le contenu de alt
            console.log($('img').attr('alt'));
            // ensuite j'affecte ce contenu dans une var (pas obligatoire mais +simple à manipuler)
            var monAlt = $('img').attr('alt');
            // je vérifie que ma var contient bien le alt
            console.log(monAlt);
            // je sélectionne ma légende (figcaption) pour remplir la balise avec ma variable (contenu du alt)
            $('figcaption').html(monAlt);
            
            // Le tout peut aussi se résoudre en 1 seule ligne :
            // $('figcaption').html($('img').attr('alt'));
       
        

    
        

    </script>
</body>
</html>